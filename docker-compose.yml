version: "3.9"
services:
  hello-world:
    build: functions/hello-world/
    image: hello-world:latest
    container_name: hello-world    
    working_dir: /var/task
    ports:
      - "9000:8080"
      - "6900:6900"
    volumes:
      - ./functions/hello-world:/var/task
  string-reverser:
    build: functions/string-reverser/
    image: string-reverser:latest
    container_name: string-reverser    
    working_dir: /var/task
    ports:
      - "9001:8080"
      - "6900:6900"
    volumes:
      - ./functions/string-reverser:/var/task
  write_dynamo:
    build: functions/write_dynamo/
    image: write_dynamo:latest
    container_name: write_dynamo    
    working_dir: /var/task
    env_file:
      - functions/write_dynamo/.env
    ports:
      - "9002:8080"
      - "6900:6900"
    volumes:
      - ./lib/:/var/task/lib
      - ./tests/functions/write_dynamo:/var/task/tests/functions/write_dynamo
      - ./functions/write_dynamo:/var/task/functions/write_dynamo   